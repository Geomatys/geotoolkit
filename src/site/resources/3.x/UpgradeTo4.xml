<?xml version="1.0" encoding="UTF-8"?>

<!--
  Replace some Geotk fully qualified names by Apache SIS names.
  This task does not replace all classes. The classes that are
  not replaced by this task need to be resolved manually.

  This class scans all *.java files in the current directory
  and all sub-directories.
-->
<project name="Upgrade" default="classes">
  <target name="classes">
    <replace dir="${user.dir}" summary="yes">
      <include name="**/*.java"/>
      <replacefilter token="org.geotoolkit.util.ArgumentChecks"        value="org.apache.sis.util.ArgumentChecks"/>
      <replacefilter token="org.geotoolkit.util.Characters"            value="org.apache.sis.util.Characters"/>
      <replacefilter token="org.geotoolkit.util.ComparisonMode"        value="org.apache.sis.util.ComparisonMode"/>
      <replacefilter token="org.geotoolkit.util.NullArgumentException" value="org.apache.sis.util.NullArgumentException"/>
      <replacefilter token="org.geotoolkit.util.converter.Classes"     value="org.apache.sis.util.Classes"/>
      <replacefilter token="org.geotoolkit.util.converter.Numbers"     value="org.apache.sis.util.Numbers"/>

      <replacefilter token="org.geotoolkit.util.collection.BackingStoreException" value="org.apache.sis.util.collection.BackingStoreException"/>
      <replacefilter token="org.geotoolkit.util.collection.Cache"                 value="org.apache.sis.util.collection.Cache"/>
      <replacefilter token="org.geotoolkit.util.collection.CheckedArrayList"      value="org.apache.sis.util.collection.CheckedArrayList"/>
      <replacefilter token="org.geotoolkit.util.collection.CheckedContainer"      value="org.apache.sis.util.collection.CheckedContainer"/>
      <replacefilter token="org.geotoolkit.util.collection.CheckedHashMap"        value="org.apache.sis.util.collection.CheckedHashMap"/>
      <replacefilter token="org.geotoolkit.util.collection.CheckedHashSet"        value="org.apache.sis.util.collection.CheckedHashSet"/>
      <replacefilter token="org.geotoolkit.util.collection.WeakHashSet"           value="org.apache.sis.util.collection.WeakHashSet"/>
      <replacefilter token="org.geotoolkit.util.collection.WeakValueHashMap"      value="org.apache.sis.util.collection.WeakValueHashMap"/>
    </replace>
  </target>

  <target name="methods">
    <replace dir="${user.dir}" summary="yes">
      <include name="**/*.java"/>
      <replacefilter token="WeakHashSet.newInstance"               value="new WeakHashSet"/>
      <replacefilter token="Classes.boundOfParameterizedAttribute" value="Classes.boundOfParameterizedProperty"/>
    </replace>
  </target>
</project>
